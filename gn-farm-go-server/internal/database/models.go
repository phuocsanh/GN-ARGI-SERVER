// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.29.0

package database

import (
	"database/sql"
	"encoding/json"
	"time"

	"github.com/sqlc-dev/pqtype"
)

// Stores metadata for chat conversations
type ChatConversation struct {
	ConversationID   string         `json:"conversationId"`
	ConversationType string         `json:"conversationType"`
	ConversationName sql.NullString `json:"conversationName"`
	CreatedBy        int32          `json:"createdBy"`
	IsActive         sql.NullBool   `json:"isActive"`
	CreatedAt        sql.NullTime   `json:"createdAt"`
	UpdatedAt        sql.NullTime   `json:"updatedAt"`
}

// Stores participants of chat conversations
type ChatParticipant struct {
	ID             int32          `json:"id"`
	ConversationID string         `json:"conversationId"`
	UserID         int32          `json:"userId"`
	Role           sql.NullString `json:"role"`
	JoinedAt       sql.NullTime   `json:"joinedAt"`
	LeftAt         sql.NullTime   `json:"leftAt"`
}

type FileAuditLog struct {
	ID                int32                 `json:"id"`
	FileID            sql.NullInt32         `json:"fileId"`
	Action            string                `json:"action"`
	EntityType        sql.NullString        `json:"entityType"`
	EntityID          sql.NullInt32         `json:"entityId"`
	OldReferenceCount sql.NullInt32         `json:"oldReferenceCount"`
	NewReferenceCount sql.NullInt32         `json:"newReferenceCount"`
	Details           pqtype.NullRawMessage `json:"details"`
	PerformedByUserID sql.NullInt32         `json:"performedByUserId"`
	PerformedAt       sql.NullTime          `json:"performedAt"`
	IpAddress         pqtype.Inet           `json:"ipAddress"`
	UserAgent         sql.NullString        `json:"userAgent"`
}

type FileCleanupJob struct {
	ID             int32                 `json:"id"`
	JobType        string                `json:"jobType"`
	Status         sql.NullString        `json:"status"`
	Parameters     pqtype.NullRawMessage `json:"parameters"`
	FilesProcessed sql.NullInt32         `json:"filesProcessed"`
	FilesDeleted   sql.NullInt32         `json:"filesDeleted"`
	FilesFailed    sql.NullInt32         `json:"filesFailed"`
	ErrorMessage   sql.NullString        `json:"errorMessage"`
	StartedAt      sql.NullTime          `json:"startedAt"`
	CompletedAt    sql.NullTime          `json:"completedAt"`
	CreatedAt      sql.NullTime          `json:"createdAt"`
}

type FileReference struct {
	ID              int32          `json:"id"`
	FileID          int32          `json:"fileId"`
	EntityType      string         `json:"entityType"`
	EntityID        int32          `json:"entityId"`
	FieldName       sql.NullString `json:"fieldName"`
	ReferenceType   sql.NullString `json:"referenceType"`
	CreatedAt       sql.NullTime   `json:"createdAt"`
	CreatedByUserID sql.NullInt32  `json:"createdByUserId"`
	DeletedAt       sql.NullTime   `json:"deletedAt"`
	DeletedByUserID sql.NullInt32  `json:"deletedByUserId"`
}

type FileUpload struct {
	ID                  int32                 `json:"id"`
	PublicID            string                `json:"publicId"`
	FileUrl             string                `json:"fileUrl"`
	FileName            string                `json:"fileName"`
	FileType            string                `json:"fileType"`
	FileSize            int64                 `json:"fileSize"`
	Folder              sql.NullString        `json:"folder"`
	MimeType            sql.NullString        `json:"mimeType"`
	ReferenceCount      sql.NullInt32         `json:"referenceCount"`
	IsTemporary         sql.NullBool          `json:"isTemporary"`
	IsOrphaned          sql.NullBool          `json:"isOrphaned"`
	UploadedByUserID    sql.NullInt32         `json:"uploadedByUserId"`
	Tags                []string              `json:"tags"`
	Metadata            pqtype.NullRawMessage `json:"metadata"`
	CreatedAt           sql.NullTime          `json:"createdAt"`
	UpdatedAt           sql.NullTime          `json:"updatedAt"`
	MarkedForDeletionAt sql.NullTime          `json:"markedForDeletionAt"`
	DeletedAt           sql.NullTime          `json:"deletedAt"`
}

// Bảng theo dõi tồn kho theo từng lô hàng để hỗ trợ FIFO
type InventoryBatch struct {
	ID        int32          `json:"id"`
	ProductID int32          `json:"productId"`
	BatchCode sql.NullString `json:"batchCode"`
	// Giá vốn của lô hàng này
	UnitCostPrice    string `json:"unitCostPrice"`
	OriginalQuantity int32  `json:"originalQuantity"`
	// Số lượng còn lại của lô (giảm dần khi bán)
	RemainingQuantity int32         `json:"remainingQuantity"`
	ExpiryDate        sql.NullTime  `json:"expiryDate"`
	ReceiptItemID     sql.NullInt32 `json:"receiptItemId"`
	CreatedAt         time.Time     `json:"createdAt"`
	UpdatedAt         time.Time     `json:"updatedAt"`
}

type InventoryHistory struct {
	ID              int32          `json:"id"`
	ProductID       int32          `json:"productId"`
	ReceiptItemID   sql.NullInt32  `json:"receiptItemId"`
	ChangeType      string         `json:"changeType"`
	QuantityBefore  int32          `json:"quantityBefore"`
	QuantityChange  int32          `json:"quantityChange"`
	QuantityAfter   int32          `json:"quantityAfter"`
	UnitPrice       sql.NullString `json:"unitPrice"`
	Reason          sql.NullString `json:"reason"`
	CreatedByUserID int32          `json:"createdByUserId"`
	CreatedAt       time.Time      `json:"createdAt"`
}

type InventoryReceipt struct {
	ID              int32          `json:"id"`
	ReceiptCode     string         `json:"receiptCode"`
	SupplierName    sql.NullString `json:"supplierName"`
	SupplierContact sql.NullString `json:"supplierContact"`
	CreatedByUserID int32          `json:"createdByUserId"`
	CheckedByUserID sql.NullInt32  `json:"checkedByUserId"`
	TotalAmount     string         `json:"totalAmount"`
	TotalItems      int32          `json:"totalItems"`
	Notes           sql.NullString `json:"notes"`
	Status          sql.NullInt32  `json:"status"`
	ReceiptDate     time.Time      `json:"receiptDate"`
	CreatedAt       time.Time      `json:"createdAt"`
	UpdatedAt       time.Time      `json:"updatedAt"`
}

type InventoryReceiptItem struct {
	ID          int32          `json:"id"`
	ReceiptID   int32          `json:"receiptId"`
	ProductID   int32          `json:"productId"`
	Quantity    int32          `json:"quantity"`
	UnitPrice   string         `json:"unitPrice"`
	TotalPrice  string         `json:"totalPrice"`
	ExpiryDate  sql.NullTime   `json:"expiryDate"`
	BatchNumber sql.NullString `json:"batchNumber"`
	Notes       sql.NullString `json:"notes"`
	CreatedAt   time.Time      `json:"createdAt"`
	UpdatedAt   time.Time      `json:"updatedAt"`
}

// Bảng ghi lại tất cả giao dịch nhập/xuất kho để tính giá trung bình gia quyền
type InventoryTransaction struct {
	ID              int32  `json:"id"`
	ProductID       int32  `json:"productId"`
	TransactionType string `json:"transactionType"`
	Quantity        int32  `json:"quantity"`
	// Giá vốn đơn vị tại thời điểm giao dịch
	UnitCostPrice     string `json:"unitCostPrice"`
	TotalCostValue    string `json:"totalCostValue"`
	RemainingQuantity int32  `json:"remainingQuantity"`
	// Giá vốn trung bình mới sau khi thực hiện giao dịch này
	NewAverageCost  string         `json:"newAverageCost"`
	ReceiptItemID   sql.NullInt32  `json:"receiptItemId"`
	ReferenceType   sql.NullString `json:"referenceType"`
	ReferenceID     sql.NullInt32  `json:"referenceId"`
	Notes           sql.NullString `json:"notes"`
	CreatedByUserID int32          `json:"createdByUserId"`
	CreatedAt       time.Time      `json:"createdAt"`
	UpdatedAt       time.Time      `json:"updatedAt"`
}

type Product struct {
	ID                     int32                 `json:"id"`
	ProductName            string                `json:"productName"`
	ProductPrice           string                `json:"productPrice"`
	ProductStatus          sql.NullInt32         `json:"productStatus"`
	ProductThumb           string                `json:"productThumb"`
	ProductPictures        []string              `json:"productPictures"`
	ProductVideos          []string              `json:"productVideos"`
	ProductRatingsAverage  sql.NullString        `json:"productRatingsAverage"`
	ProductVariations      pqtype.NullRawMessage `json:"productVariations"`
	ProductDescription     sql.NullString        `json:"productDescription"`
	ProductSlug            sql.NullString        `json:"productSlug"`
	ProductQuantity        sql.NullInt32         `json:"productQuantity"`
	ProductType            int32                 `json:"productType"`
	SubProductType         []int32               `json:"subProductType"`
	Discount               sql.NullString        `json:"discount"`
	ProductDiscountedPrice string                `json:"productDiscountedPrice"`
	ProductSelled          sql.NullInt32         `json:"productSelled"`
	ProductAttributes      json.RawMessage       `json:"productAttributes"`
	IsDraft                sql.NullBool          `json:"isDraft"`
	IsPublished            sql.NullBool          `json:"isPublished"`
	CreatedAt              time.Time             `json:"createdAt"`
	UpdatedAt              time.Time             `json:"updatedAt"`
	// Giá vốn trung bình gia quyền của sản phẩm
	AverageCostPrice string `json:"averageCostPrice"`
	// Phần trăm lợi nhuận mong muốn (VD: 15.00 = 15%)
	ProfitMarginPercent string `json:"profitMarginPercent"`
}

type ProductSubtype struct {
	ID          int32          `json:"id"`
	Name        string         `json:"name"`
	Description sql.NullString `json:"description"`
	CreatedAt   time.Time      `json:"createdAt"`
	UpdatedAt   time.Time      `json:"updatedAt"`
}

type ProductSubtypeMapping struct {
	ProductTypeID    int32     `json:"productTypeId"`
	ProductSubtypeID int32     `json:"productSubtypeId"`
	CreatedAt        time.Time `json:"createdAt"`
}

type ProductSubtypeRelation struct {
	ProductID        int32     `json:"productId"`
	ProductSubtypeID int32     `json:"productSubtypeId"`
	CreatedAt        time.Time `json:"createdAt"`
}

type ProductType struct {
	ID          int32          `json:"id"`
	Name        string         `json:"name"`
	Description sql.NullString `json:"description"`
	CreatedAt   time.Time      `json:"createdAt"`
	UpdatedAt   time.Time      `json:"updatedAt"`
	ImageUrl    sql.NullString `json:"imageUrl"`
}

type SalesInvoice struct {
	ID              int32          `json:"id"`
	InvoiceCode     string         `json:"invoiceCode"`
	CustomerName    sql.NullString `json:"customerName"`
	CustomerPhone   sql.NullString `json:"customerPhone"`
	CustomerEmail   sql.NullString `json:"customerEmail"`
	CustomerAddress sql.NullString `json:"customerAddress"`
	CreatedByUserID int32          `json:"createdByUserId"`
	TotalAmount     string         `json:"totalAmount"`
	TotalItems      int32          `json:"totalItems"`
	DiscountAmount  sql.NullString `json:"discountAmount"`
	FinalAmount     string         `json:"finalAmount"`
	PaymentMethod   sql.NullString `json:"paymentMethod"`
	PaymentStatus   sql.NullInt32  `json:"paymentStatus"`
	Notes           sql.NullString `json:"notes"`
	Status          sql.NullInt32  `json:"status"`
	InvoiceDate     time.Time      `json:"invoiceDate"`
	DeliveryDate    sql.NullTime   `json:"deliveryDate"`
	CompletedDate   sql.NullTime   `json:"completedDate"`
	CreatedAt       time.Time      `json:"createdAt"`
	UpdatedAt       time.Time      `json:"updatedAt"`
}

type SalesInvoiceItem struct {
	ID              int32          `json:"id"`
	InvoiceID       int32          `json:"invoiceId"`
	ProductID       int32          `json:"productId"`
	Quantity        int32          `json:"quantity"`
	UnitPrice       string         `json:"unitPrice"`
	TotalPrice      string         `json:"totalPrice"`
	DiscountPercent sql.NullString `json:"discountPercent"`
	DiscountAmount  sql.NullString `json:"discountAmount"`
	FinalPrice      string         `json:"finalPrice"`
	Notes           sql.NullString `json:"notes"`
	CreatedAt       time.Time      `json:"createdAt"`
	UpdatedAt       time.Time      `json:"updatedAt"`
}

// Bảng người dùng chính - Lưu trữ thông tin authentication và session
type User struct {
	UserID         int32          `json:"userId"`
	UserAccount    string         `json:"userAccount"`
	UserPassword   string         `json:"userPassword"`
	UserSalt       string         `json:"userSalt"`
	UserLoginTime  sql.NullTime   `json:"userLoginTime"`
	UserLogoutTime sql.NullTime   `json:"userLogoutTime"`
	UserLoginIp    sql.NullString `json:"userLoginIp"`
	UserCreatedAt  sql.NullTime   `json:"userCreatedAt"`
	UserUpdatedAt  sql.NullTime   `json:"userUpdatedAt"`
	// authentication is enabled for the user
	IsTwoFactorEnabled sql.NullBool `json:"isTwoFactorEnabled"`
}

// user_profiles
type UserProfile struct {
	// User ID
	UserID int64 `json:"userId"`
	// User account
	UserAccount string `json:"userAccount"`
	// User nickname
	UserNickname sql.NullString `json:"userNickname"`
	// User avatar
	UserAvatar sql.NullString `json:"userAvatar"`
	// User state: 0-Locked, 1-Activated, 2-Not Activated
	UserState int16 `json:"userState"`
	// Mobile phone number
	UserMobile sql.NullString `json:"userMobile"`
	// User gender: 0-Secret, 1-Male, 2-Female
	UserGender sql.NullInt16 `json:"userGender"`
	// User birthday
	UserBirthday sql.NullTime `json:"userBirthday"`
	// User email address
	UserEmail sql.NullString `json:"userEmail"`
	// Authentication status: 0-Not Authenticated, 1-Pending, 2-Authenticated, 3-Failed
	UserIsAuthentication int16 `json:"userIsAuthentication"`
	// Record creation time
	CreatedAt sql.NullTime `json:"createdAt"`
	// Record update time
	UpdatedAt sql.NullTime `json:"updatedAt"`
}

// user_two_factors
type UserTwoFactor struct {
	// Primary key auto-increment
	TwoFactorID int32 `json:"twoFactorId"`
	// Foreign key linking to the user table
	UserID int32 `json:"userId"`
	// Type of 2FA method (SMS, Email, App)
	TwoFactorAuthType string `json:"twoFactorAuthType"`
	// Secret information for 2FA (e.g., TOTP secret key for app 2FA)
	TwoFactorAuthSecret string `json:"twoFactorAuthSecret"`
	// Phone number for SMS 2FA (if applicable)
	TwoFactorPhone sql.NullString `json:"twoFactorPhone"`
	// Email address for Email 2FA (if applicable)
	TwoFactorEmail sql.NullString `json:"twoFactorEmail"`
	// Activation status of the 2FA method
	TwoFactorIsActive bool `json:"twoFactorIsActive"`
	// Timestamp of 2FA method creation
	TwoFactorCreatedAt sql.NullTime `json:"twoFactorCreatedAt"`
	// Timestamp of 2FA method update
	TwoFactorUpdatedAt sql.NullTime `json:"twoFactorUpdatedAt"`
}

// account_user_verify
type UserVerification struct {
	VerifyID        int32         `json:"verifyId"`
	VerifyOtp       string        `json:"verifyOtp"`
	VerifyKey       string        `json:"verifyKey"`
	VerifyKeyHash   string        `json:"verifyKeyHash"`
	VerifyType      sql.NullInt32 `json:"verifyType"`
	IsVerified      sql.NullInt32 `json:"isVerified"`
	IsDeleted       sql.NullInt32 `json:"isDeleted"`
	VerifyCreatedAt sql.NullTime  `json:"verifyCreatedAt"`
	VerifyUpdatedAt sql.NullTime  `json:"verifyUpdatedAt"`
}
